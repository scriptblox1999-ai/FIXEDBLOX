-- AUTO FARM BAÃšS
task.spawn(function()
    while true do
        task.wait(SCAN_INTERVAL)
        if getgenv().AutoFarmChests then
            local Chests = getChestsSorted()
            if #Chests > 0 then
                for _, chest in ipairs(Chests) do
                    if not getgenv().AutoFarmChests then break end
                    if chest and chest.Parent then
                        teleportTo(chest.CFrame * CFrame.new(0,2.5,0), TELEPORT_SPEED)
                        task.wait(0.2)
                        if not getgenv().AutoFarmChests then break end
                    end
                end
            else
                if getgenv().AutoFarmChests then
                    serverHop()
                end
            end
        end
    end
end)

-- AUTO FARM BOSSES
task.spawn(function()
    while true do
        task.wait(1)
        if getgenv().AutoBossFarm then
            for boss, data in pairs(Bosses) do
                if not getgenv().AutoBossFarm then break end
                teleportTo(data.cf, TELEPORT_SPEED)
                task.wait(1)
                for _, mob in pairs(workspace.Enemies:GetChildren()) do
                    if not getgenv().AutoBossFarm then break end
                    if mob.Name == data.name and mob:FindFirstChild("Humanoid") then
                        while mob.Humanoid.Health > 0 do
                            if not getgenv().AutoBossFarm then break end
                            VU:Button1Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                            task.wait(0.05)
                            VU:Button1Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                            if getgenv().AutoSkill then useSkills() end
                            task.wait(0.3)
                        end
                    end
                end
            end
        end
    end
end)

-- KILL AURA
task.spawn(function()
    while true do
        task.wait(0.2)
        if getgenv().KillAura then
            for _, mob in pairs(workspace.Enemies:GetChildren()) do
                if not getgenv().KillAura then break end
                if mob:FindFirstChild("HumanoidRootPart") and mob:FindFirstChild("Humanoid") then
                    if (mob.HumanoidRootPart.Position - getCharacter().HumanoidRootPart.Position).Magnitude < 50 then
                        VU:Button1Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                        task.wait(0.05)
                        VU:Button1Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                    end
                end
            end
        end
    end
end)

-- AUTO SKILL
task.spawn(function()
    while true do
        task.wait(1)
        if getgenv().AutoSkill then
            useSkills()
        end
    end
end)
